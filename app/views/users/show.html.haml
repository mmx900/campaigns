%section.page-block
  .container
    .page-header
      %h2
        = render 'thumbnail', user: @user
        = @user.nickname

    %section
      %dl
        %dt 가입일
        %dd= date_f @user.created_at

    %section.page-block
      %h3.sub-title
        참여 중인 #{Project.model_name.human}
      .row
        .col-sm-6
          = render @user.participated_projects

    %section.page-block
      %h3.sub-title
        참여 중인 #{Petition.model_name.human}
      .row
        - petitions = Petition.where(id: Sign.where(user: @user).map(&:petition_id))
        = render petitions

    %section.page-block
      %h3.sub-title
        참여 중인 #{Event.model_name.human}
      .row
        - event_ids = Comment.where(user: @user, commentable_type: 'event').map(&:commentable_id).uniq
        - events = Event.where(id: event_ids)
        = render events

