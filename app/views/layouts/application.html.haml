!!!
%html.has-footer{:lang => I18n.locale}
  %head
    %meta{:charset => "utf-8"}
    %meta{:content => "IE=edge", "http-equiv" => "X-UA-Compatible"}
    %meta{:content => "width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no", :name => "viewport"}
    %link{rel: "apple-touch-icon", href: "/apple-touch-icon.png"}
    = display_meta_tags

    %title 빠띠 캠페인즈

    = stylesheet_link_tag 'application', media: 'all'
    %link{:href => "https://cdn.jsdelivr.net/jquery.jssocials/1.4.0/jssocials-theme-flat.css", :rel => "stylesheet", :type => "text/css"}/
    %script{crossorigin: "anonymous", src: "https://kit.fontawesome.com/d1995cff7d.js"}
    %link{:href => "https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.css", :rel => "stylesheet", :type => "text/css"}

    = csrf_meta_tags

  %body{class: "app-#{params[:controller]} app-#{params[:controller]}-#{params[:action]}"}
    %section(style='position: fixed; z-index: 2000; width: 80%; left: 0; margin-left: auto; margin-right: auto; right: 0;')
      .unobtrusive-flash-container

    - if content_for?(:header)
      = yield :header
    - else
      = render 'application/header'
    = yield
    - if content_for?(:footer)
      = yield :footer
    - else
      = render 'footer'

    %script{:src => "https://www.gstatic.com/charts/loader.js"}
    = javascript_include_tag 'application'
    :javascript
      Chartkick.configure({language: "ko"});
    %script{:src => "https://cdn.knightlab.com/libs/timeline3/latest/js/timeline.js"}
    %script{:src => "https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.js"}
    %script{ src: "https://www.google.com/recaptcha/api.js?onload=$grecaptcha_on_load&render=explicit", async: true, defer: true }
    :javascript
      var $grecaptcha_on_load = function(partial) {
        var $target = $(document);
        if(partial) {
          $target = $(partial);
        }
        $target.find('.gov-action-form-grecaptcha').each(function(index, elm) {
          widget_id = grecaptcha.render(elm, {
            'sitekey': '#{ENV['RECAPTCHA_SITE_KEY']}',
            'size': 'invisible',
            'callback': function(token) {
              var $form = $(elm).closest('form');
              $form.submit();
            }
          });
          $(elm).data('grecaptcha_widget_id', widget_id);
        });
      }

      $(document).on('govcraft-grecaptcha-for-partial', function(e, partial) {
        if(document == partial) {
          return;
        }

        $grecaptcha_on_load(partial);
      });
    = yield :script if content_for?(:script)

    - if Rails.env.production?
      :javascript
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-93481585-1', 'auto');
        ga('send', 'pageview');
