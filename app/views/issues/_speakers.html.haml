- all_count = speakers.count
- speakers = speakers.shuffle[0...max_count] if local_assigns[:max_count]
- button_label = quote.nil? ? "#{Opinion.model_name.human} <span class='text-nowrap'>요청하기</span>" : "개정 <span class='text-nowrap'>촉구하기</span>"
- hide_request ||= false
- agenda_id = @agenda.try(:id)

.answer-speakers
  .ui.list.grid
    - speakers.each do |speaker|
      .item.eight.wide.column
        .ui.image{ style: 'padding: 0;' }
          %span.ui.avatar.image{ style: "background-image: url(#{speaker.image}); width: 30px; height: 30px; table-layout: fixed; background-size: cover; background-position: top; background-repeat: no-repeat;" }
        .content
          = link_to speaker.name, speaker_path(speaker, agenda_id: agenda_id), target: ('_wyp' if local_assigns[:widget]), class: 'header'
          .description.text-keep-all{ style: 'font-size: 10px' }= speaker.organization

      - if !hide_request and @agenda.present?
        .item.eight.wide.column
          = link_to new_email_agenda_path(@agenda, speaker_id: speaker.id), target: ('_wyp' if local_assigns[:widget]), class: "ui mini button #{'basic' if speaker.requested_by?(current_user)}", style: 'position: relative;' do
            != button_label
            - if speaker.sent_requests_count > 0
              .floating.ui.blue.mini.label= speaker.sent_requests_count
    - if local_assigns[:max_count].present? and all_count > local_assigns[:max_count]
      .sixteen.wide.column
        = link_to "#{all_count}명 모두 보기", issue, target: ('_wyp' if local_assigns[:widget]), class: 'ui button'
