.agenda-container
  = render 'agendas/header', agenda: @agenda

- if @agenda.name == '여성'
  %section.page-block.page-opinions
    .container
      - @agenda.issues.each do |issue|
        %h4= issue.title
        .opinion-speakers-list
          .row
            - speakers = issue.speakers
            = render 'issues/speakers', speakers: speakers, issue: issue, quote: nil, max_count: 15, hide_request: true

- else
  - %w(대선주자 국회의원).each do |position|
    %section.page-block.page-opinions
      .container
        %h2.ui.dividing.header
          #{position} #{Opinion.model_name.human}
          .sub.header #{position} #{@agenda.speakers.of_position(position).count}명에게 #{Opinion.model_name.human}를 받았습니다.
        - @agenda.issues.each do |issue|
          %h4= issue.title
          .opinion-speakers-list
            .row
              - ["찬성", "반대", nil].each do |quote|
                - speakers = issue.categorized_speakers(position, quote)
                .col-sm-4{ class: ('hidden-xs' if speakers.empty?) }
                  .position
                    = quote || "#{Opinion.model_name.human}없음"
                    %span{ style: 'font-weight: normal' } #{speakers.count}명

                  = render 'issues/speakers', speakers: speakers, issue: issue, quote: quote, max_count: 15

%section#agenda-block.page-block
  .container
    .post-block__comments
      = render 'comments/list', commentable: @agenda
