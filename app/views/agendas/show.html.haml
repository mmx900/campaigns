.agenda-container
  = render 'agendas/header', agenda: @agenda

- %w(대선주자 국회의원).each do |position|
  %section.page-block.page-opinions
    .container
      %h2.ui.dividing.header
        #{position} #{Opinion.model_name.human}
        .sub.header #{position}에게 #{Opinion.model_name.human}을 #{@agenda.speakers.of_position(position).count}개 받았습니다.
      - @agenda.issues.each do |issue|
        %h4= issue.title
        .answers-list
          .row
            - ["찬성", "반대", nil].each do |quote|
              - speakers = issue.categorized_speakers(position, quote)
              .col-sm-4{ class: ('hidden-xs' if speakers.empty?) }
                .answer-position
                  = quote || "#{Opinion.model_name.human}없음"

                .answer-speakers
                  .ui.list.grid
                    - speakers.each do |speaker|
                      = render 'speakers/line', speaker: speaker, agenda: @agenda
                      - if quote == nil
                        = link_to '답변 요청하기', new_email_agenda_path(@agenda, speaker_id: speaker.id),  class: 'ui button request-btn'

%section#agenda-block.page-block
  .container
    .post-block__comments
      = render 'comments/list', commentable: @agenda
